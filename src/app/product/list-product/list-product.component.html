<app-modal [nameDelete]="nameDelete" (onConfirmDelete)="onConfirmDelete()" ></app-modal>

<div>
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Product</li>
        </ol>
      </nav>
</div>

<app-loading *ngIf="loading"> </app-loading>



<div *ngIf="loading == false">
  <div class="mb-3">
    <a href="" routerLink="/product/add" routerLinkActive="active" ariaCurrentWhenActive="page">
      <button type="button" class="btn btn-primary">Add Product</button>
    </a>
  
  </div>
    <table class="table table-striped">
        <thead>
          <tr>
            <th>STT</th>
            <th>Name</th>
            <th>Image</th>
            <th>Category</th>
            <th>Price</th>
            <th>Price Sale</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products ; let i = index">
            <td>{{i + 1}}</td>
            <td>{{product.name}}</td>
            <td> <img src={{product.image}} width="100" height="100"/> </td>
            <td>{{product.category_id.name}}</td>
            <td>{{formatVNDCurrency(product.price)}}</td>
            <td>{{formatVNDCurrency(product.price_sale)}}</td>
            <td class="d-flex w-100" style="gap : 10px">
                <a [routerLink]="[product._id]"><button type="button" class="btn btn-warning">Edit</button></a>
                <button (click)="onDelete(product._id, product.name, product.image)" type="button" class="btn btn-danger">Delete</button>
            </td>
            
          </tr>
          
        </tbody>
      </table>
</div>
<router-outlet></router-outlet>